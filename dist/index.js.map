{"mappings":";;;;;;;;;;;;AAAA,MAAM;IACJ,aAAc;QACZ,IAAI,CAAC,YAAY,GAAG,IAAK,CAAA,OAAO,YAAY,IAAI,OAAO,kBAAkB,AAAD;QACxE,IAAI,CAAC,uBAAuB;IAC9B;IAEA,0BAA0B;QACxB,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,KAAK,eAAe,kBAAkB,QAAQ;YACvE,MAAM,SAAS;gBACb,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC9B,SAAS,IAAI,CAAC,mBAAmB,CAAC,cAAc;oBAChD,SAAS,IAAI,CAAC,mBAAmB,CAAC,YAAY;gBAChD;YACF;YAEA,SAAS,IAAI,CAAC,gBAAgB,CAAC,cAAc,QAAQ;YACrD,SAAS,IAAI,CAAC,gBAAgB,CAAC,YAAY,QAAQ;QACrD;IACF;IAEA,UAAU,GAAG,EAAE;QACb,MAAM,KACH,IAAI,CAAC,CAAC,WAAa,SAAS,WAAW,IACvC,IAAI,CAAC,CAAC,SAAW,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SACnD,IAAI,CAAC,CAAC;YACL,MAAM,SAAS,IAAI,CAAC,YAAY,CAAC,kBAAkB;YACnD,OAAO,MAAM,GAAG;YAChB,OAAO,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW;YAC5C,OAAO,KAAK,CAAC;QACf,GACC,KAAK;IACV;IAEA,KAAK,QAAQ,EAAE,YAAY,EAAE;QAC3B,MAAM,SAAS,SAAS,cAAc,CAAC;QAEvC,OAAO,gBAAgB,CAAC,SAAS;YAC/B,IAAI,CAAC,SAAS,CAAC;QACjB;IACF;AACF;IAEA,2CAAe","sources":["src/index.js"],"sourcesContent":["class ClickTone {\n  constructor() {\n    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    this.setupIOSAudioContextFix();\n  }\n\n  setupIOSAudioContextFix() {\n    if (this.audioContext.state === 'suspended' && 'ontouchstart' in window) {\n      const unlock = () => {\n        this.audioContext.resume().then(() => {\n          document.body.removeEventListener('touchstart', unlock);\n          document.body.removeEventListener('touchend', unlock);\n        });\n      };\n\n      document.body.addEventListener('touchstart', unlock, false);\n      document.body.addEventListener('touchend', unlock, false);\n    }\n  }\n\n  playAudio(url) {\n    fetch(url)\n      .then((response) => response.arrayBuffer())\n      .then((buffer) => this.audioContext.decodeAudioData(buffer))\n      .then((audioData) => {\n        const source = this.audioContext.createBufferSource();\n        source.buffer = audioData;\n        source.connect(this.audioContext.destination);\n        source.start(0);\n      })\n      .catch();\n  }\n\n  init(buttonId, audioFileUrl) {\n    const button = document.getElementById(buttonId);\n\n    button.addEventListener('click', () => {\n      this.playAudio(audioFileUrl);\n    });\n  }\n}\n\nexport default ClickTone;\n"],"names":[],"version":3,"file":"index.js.map"}
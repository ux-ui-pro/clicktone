{"mappings":"AAAA,MAAM;IACJ,YAAY,MAAE,KAAK,WAAI,QAAQ,IAAI,GAAG,CAAC,CAAC,CAAE;QACxC,IAAI,CAAC,EAAE,GAAG;QACV,IAAI,CAAC,KAAK,GAAG;QAEb,IAAI,CAAC,YAAY,GAAG,IAAK,CAAA,OAAO,YAAY,IAC1C,OAAO,kBAAkB,AAAD;QAC1B,IAAI,CAAC,uBAAuB;IAC9B;IAEA,0BAA0B;QACxB,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK,KAAK,eAAe,kBAAkB,QAAQ;YACvE,MAAM,SAAS;gBACb,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC9B,SAAS,IAAI,CAAC,mBAAmB,CAAC,cAAc;oBAChD,SAAS,IAAI,CAAC,mBAAmB,CAAC,YAAY;gBAChD;YACF;YAEA,SAAS,IAAI,CAAC,gBAAgB,CAAC,cAAc,QAAQ;YACrD,SAAS,IAAI,CAAC,gBAAgB,CAAC,YAAY,QAAQ;QACrD;IACF;IAEA,UAAU,GAAG,EAAE;QACb,MAAM,KACH,IAAI,CAAC,CAAC,WAAa,SAAS,WAAW,IACvC,IAAI,CAAC,CAAC,SAAW,IAAI,CAAC,YAAY,CAAC,eAAe,CAAC,SACnD,IAAI,CAAC,CAAC;YACL,MAAM,SAAS,IAAI,CAAC,YAAY,CAAC,kBAAkB;YACnD,OAAO,MAAM,GAAG;YAChB,OAAO,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW;YAC5C,OAAO,KAAK,CAAC;QACf,GACC,KAAK;IACV;IAEA,OAAO;QACL,MAAM,gBACJ,OAAO,IAAI,CAAC,EAAE,KAAK,WAAW,SAAS,aAAa,CAAC,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE;QAEzE,cAAc,gBAAgB,CAAC,SAAS;YACtC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK;QAC3B;IACF;AACF;IAEA,2CAAe","sources":["src/index.js"],"sourcesContent":["class ClickTone {\n  constructor({ el = '', sound = '' } = {}) {\n    this.el = el;\n    this.sound = sound;\n\n    this.audioContext = new (window.AudioContext ||\n      window.webkitAudioContext)();\n    this.setupIOSAudioContextFix();\n  }\n\n  setupIOSAudioContextFix() {\n    if (this.audioContext.state === 'suspended' && 'ontouchstart' in window) {\n      const unlock = () => {\n        this.audioContext.resume().then(() => {\n          document.body.removeEventListener('touchstart', unlock);\n          document.body.removeEventListener('touchend', unlock);\n        });\n      };\n\n      document.body.addEventListener('touchstart', unlock, false);\n      document.body.addEventListener('touchend', unlock, false);\n    }\n  }\n\n  playAudio(url) {\n    fetch(url)\n      .then((response) => response.arrayBuffer())\n      .then((buffer) => this.audioContext.decodeAudioData(buffer))\n      .then((audioData) => {\n        const source = this.audioContext.createBufferSource();\n        source.buffer = audioData;\n        source.connect(this.audioContext.destination);\n        source.start(0);\n      })\n      .catch();\n  }\n\n  init() {\n    const targetElement =\n      typeof this.el === 'string' ? document.querySelector(this.el) : this.el;\n\n    targetElement.addEventListener('click', () => {\n      this.playAudio(this.sound);\n    });\n  }\n}\n\nexport default ClickTone;\n"],"names":[],"version":3,"file":"index.module.js.map"}